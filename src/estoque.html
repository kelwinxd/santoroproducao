<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="logosan.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="./model.css">
	<!-- Supabase JS SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>

    <title>Santoro Produ√ß√£o</title>
</head>

<body>
   <header class="header">



<a href="https://semijoiassantoro.com.br/">
    <img src="logosan.png">
</a>
<ul class="list">
	 
    <a href="./index.html" class="tool active">Ferramentas</a>
    <a href="./processos.html" class="tool">Processos</a>
	<a href="./index.html" class="tool">Estoque</a>
</ul>

<div class="menu-h"> Menu </div>
<ul class="list-h">
	 
    <a href="./tool.html" class="tool active">Ferramentas</a>
    <a href="./tool.html" class="tool">Processos</a>
	<a href="./index.html" class="tool">Sucata</a>
</ul>

   </header>
   


    <main> 
		<div class="containers-est">
			<div class="card-dados dados-reta-10">

			</div>
		</div>
	</main>

	<script type="module">
		import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'
	  
		// Conex√£o com seu projeto
		const supabaseUrl = 'https://exsnpdmbuscemohjdpus.supabase.co'
		const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4c25wZG1idXNjZW1vaGpkcHVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNTc5OTIsImV4cCI6MjA3NTkzMzk5Mn0.kS4VsaFTYID77kEyfd8rtfrEbXlcQDMdNToFxHL4JPc'
		window.supabase = createClient(supabaseUrl, supabaseKey)

		const reta10 = document.querySelector(".dados-reta-10")

		async function fetchRetas10() {
			try {
				// üîπ Busca todos os registros da tabela "retasbrutos"
				const { data, error } = await supabase
				  .from('retasbruto')
				  .select('*')
				  
		  
				if (error) {
				  console.error('Erro ao buscar dados:', error)
				  reta10.textContent = 'Erro ao buscar dados'
				  return
				}
				const container = document.querySelector(".containers-est")

// Cria a tabela
const table = document.createElement("table")
table.border = "1"
table.style.width = "100%"
table.style.borderCollapse = "collapse"

// Cria o cabe√ßalho
const thead = document.createElement("thead")
const headerRow = document.createElement("tr")

const headers = ["ID", "Largura", "Aro", "Quantidade", "Criado em"]
headers.forEach(h => {
  const th = document.createElement("th")
  th.textContent = h
  th.style.padding = "5px"
  th.style.backgroundColor = "#eee"
  headerRow.appendChild(th)
})

thead.appendChild(headerRow)
table.appendChild(thead)

// Cria o corpo da tabela
const tbody = document.createElement("tbody")

data.forEach(i => {
  const row = document.createElement("tr")

  // cria cada c√©lula
  const tdId = document.createElement("td")
  tdId.textContent = i.id

  const tdLargura = document.createElement("td")
  tdLargura.textContent = i.largura

  const tdAro = document.createElement("td")
  tdAro.textContent = i.aro

  const tdQtd = document.createElement("td")
  tdQtd.textContent = i.qtd

  const tdCriado = document.createElement("td")
  tdCriado.textContent = new Date(i.criado_em).toLocaleDateString("pt-BR")

  // adiciona as c√©lulas √† linha
  row.append(tdId, tdLargura, tdAro, tdQtd, tdCriado)

  // adiciona a linha ao corpo
  tbody.appendChild(row)
})

table.appendChild(tbody)

// adiciona a tabela no container
container.innerHTML = "" // limpa o conte√∫do anterior
container.appendChild(table)
				console.log('Dados recebidos:', data)
		  
				// Mostra na tela
				
		  
			  } catch (err) {
				console.error('Erro inesperado:', err)
				reta10.textContent = 'Erro inesperado'
			  }
		}

		fetchRetas10()
	  </script>
	  

 <script src="./script.js">
    </script>
  
 
    <br><br><br><br><br>
    <div>
       
    </div>




</body>

</html>