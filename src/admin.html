<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="logosan.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="./model.css">
</head>
	<!-- Supabase JS SDK -->

    <title>Santoro Produção</title>
</head>

<body>
  <h1>Catálogo de Retas Bruto</h1>
<div id="catalogo"></div>

<h2>Login Admin</h2>
<form id="loginForm">
  <input type="email" id="email" placeholder="Email">
  <input type="password" id="senha" placeholder="Senha">
  <button type="submit">Login</button>
</form>

  
 
 

<script type="module" >

  import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'
	  
  // Conexão com seu projeto
  const supabaseUrl = 'https://exsnpdmbuscemohjdpus.supabase.co'
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4c25wZG1idXNjZW1vaGpkcHVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNTc5OTIsImV4cCI6MjA3NTkzMzk5Mn0.kS4VsaFTYID77kEyfd8rtfrEbXlcQDMdNToFxHL4JPc'
  window.supabase = createClient(supabaseUrl, supabaseKey)
async function carregarCatalogo() {
  const { data, error } = await supabase.from('retasbruto').select('*');
  if (error) return console.error(error);

  const catalogoDiv = document.getElementById('catalogo');
  data.forEach(item => {
    const div = document.createElement('div');
    div.innerHTML = `<h3>${item.size}</h3><p>${item.aro}</p>`;
    catalogoDiv.appendChild(div);
  });
}

document.getElementById('loginForm').addEventListener('submit', async e => {
  e.preventDefault();
  const email = document.getElementById('email').value;
  const senha = document.getElementById('senha').value;

  const { data, error } = await supabase.auth.signInWithPassword({ email, password: senha });
  if (error) return alert(error.message);

  alert('Login feito com sucesso!');
});

carregarCatalogo();
</script>



</body>

</html>